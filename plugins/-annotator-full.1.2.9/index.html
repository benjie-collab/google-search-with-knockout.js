<script type="text/javascript">	
	var stylesheet;	
	if ($('#annotator-stylehsheet').length === 0) {
			stylesheet = document.createElement( 'link' );
			stylesheet.id = 'annotator-stylehsheet';
			stylesheet.rel = 'stylesheet';
			stylesheet.type = 'text/css';
			stylesheet.href = 'plugins/annotator-full.1.2.9/css/annotator.min.css';
			$("head").append( stylesheet );
	}	
	
	
	if ($('#annotator-richText-stylehsheet').length === 0) {
			stylesheet = document.createElement( 'link' );
			stylesheet.id = 'annotator-richText-stylehsheet';
			stylesheet.rel = 'stylesheet';
			stylesheet.type = 'text/css';
			stylesheet.href = 'plugins/annotator-full.1.2.9/css/richText-annotator.css';
			$("head").append( stylesheet );
	}	
	
	
	
	var script;
	if ($('#annotator-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'annotator-script';
			script.type = 'text/javascript';
			script.src = 'plugins/annotator-full.1.2.9/js/annotator-full.min.js';
			$("body").append( script );
	}
	
	if ($('#annotator-richText-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'annotator-richText-script';
			script.type = 'text/javascript';
			script.src = 'plugins/annotator-full.1.2.9/plugins/richText-annotator.js';
			$("body").append( script );
	}
	
	
	
	if ($('#annotator-offline-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'annotator-offline-script';
			script.type = 'text/javascript';
			script.src = 'plugins/annotator-full.1.2.9/plugins/annotator.offline.min.js';
			$("body").append( script );
	}
	
	
	
	
	
	
	
	
	
	
	/**var opts = {
				container: "#"
				}
	ko.cleanNode($('#wikipedia-container')[0]); // clean it
	ko.applyBindings(new wikipediaModel(opts), $('#wikipedia-container')[0]);	**/
	/**var ann = $('body')
			  .annotator();
				
	ann.annotator('addPlugin', 'Filter');
	ann.annotator("addPlugin", "Offline", {
	  online: function (plugin) {
		// Do something when the browser is online.
	  },
	  offline: function (plugin) {
		// Do something when the browser goes offline.
	  }
	});**/
	var ann = $('.annotations')
			.annotator()
			.annotator('setupPlugins');
		ann.annotator("addPlugin", "Offline", {
		  online: function (plugin) {
			console.log('Online');
		  },
		  offline: function (plugin) {
			console.log('Offline')
		  }
		});	
		
		var optionsRichText = {
    		tinymce:{
				selector: "li.annotator-item textarea",
				plugins: "media image insertdatetime link code",
				menubar: false,
				toolbar_items_size: 'small',
				extended_valid_elements : "iframe[src|frameborder|style|scrolling|class|width|height|name|align|id]",
				toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media rubric | code ",
    		}
		};
	
		ann.annotator('addPlugin','RichText',optionsRichText)
		
		/**
		ann.annotator('addPlugin','Store',{
				prefix: 'http://192.168.2.175:8014/templates/lzt/annotations/api',
				
				annotationData: {uri:'http://192.168.2.175:8014/templates/lzt/index.html'},

				loadFromSearch:{
					limit:10000000,
					uri: 'http://192.168.2.175:8014/templates/lzt/index.html',
				}
			});**/
		
	
	var annotator = ann.data('omnimalaysia-annotation');
</script>