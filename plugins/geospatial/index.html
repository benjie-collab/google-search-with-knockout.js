
		<div class="tile" id="geospatial-container">
			<h2 class="tile-title">
				<i class="fa fa-bar-chart-o"></i> 
				<span lang="en">Resources</span>
			</h2>
			<div class="tile-config">
				<a title="" class="tooltips tile-menu" title="List" data-bind='click: snapHandle'></a>
			</div>
			<div class="snap-container p-relative">
			
				<div class="snap-drawers">
					<div class="snap-drawer snap-drawer-left">						
						<div class="listview narrow overflow" style="height: 500px" data-bind="foreach: markerListToDrop">
							<div class="media p-l-5" data-bind='click: $parent.showInfoWindow.bind($data)'>
								<div class="pull-left">
									<img width="20" height="auto" alt="" data-bind='attr: {src: $data.markerimage.url}' >
								</div>
								<div class="media-body">
									<small class="text-muted" data-bind='text: $data.name' ></small><br>
									<a href="" class="t-overflow" data-bind='text: $data.state'></a>								   
								</div>
							</div>
						</div>
					</div>
					<div class="snap-drawer snap-drawer-right"></div>
				</div>

				<div id="snap-geospatial" class="snap-content">
		
					<div class="p-0 geospatial-map">					
						<div class="tile vt vt-tr">
							<div class="tile-dark tile p-10 m-0">
								<div class="form-group">
									<label lang="en">Select Theme</label>
									
									<select class="form-control input-sm m-b-10 text-capitalize" 
										data-bind=" options: availableThemes, 
													value: chosenTheme,
													optionsText: function(item) { return item.replace(/([A-Z])/g, ' $1') },
													optionsAfterRender: optionsAfterRender
													">
									</select>
								</div>
								<div class="form-group">
									<div class="checkbox m-b-5">
										<label class="">
											<input type="checkbox" data-bind="checked: clusterView, RadioButton : { checked: clusterView}"/>
											<span lang="en">Use Cluster</span>
										</label>
									</div>
								</div>
								
								<div class="tab-content p-0" id=""  >						 
									<div id="" class="tab-pane clearfix" data-bind="css: {active: clusterView()==false}">
										<div class="listview todo-list" data-bind="foreach: markerLegend">
											<div class="media p-5">
												<div class="checkbox m-0">
													<label class="t-overflow">
														<input type="checkbox" data-bind="RadioButton : { checkedValue: $data, checked: $parent.toggleSelected  }"/>
														<img width="14" data-bind="attr: {src: $data.marker}"/>
														<span lang="en" data-bind="text: $data.label"></span>
													</label>
												</div>
											</div>
										</div>
									</div>
									<div id="" class="tab-pane clearfix" data-bind="css: {active: clusterView()==true}">
										<div class="listview todo-list" data-bind="foreach: markerCluster">
											<div class="media p-5">
												<div class="checkbox m-0">
													<label class="t-overflow">
														<img width="14" data-bind="attr: {src: $data.marker}"/>
														<span lang="en" data-bind="text: $data.label"></span>
													</label>
												</div>
											</div>
										</div>
									</div>
								</div>
								
							</div>
						</div>
							
						<div id="geospatial-map" data-snap-ignore="true" style="height: 500px;">
							<section class="large widget transparent">				    				
								<div class="loader animated fadeIn">
									<span class="spinner">
										 <p lang="en">Rendering map...</p>
										<i class="fa fa-spinner fa-spin"></i>
									</span>
								</div>			                        
							</section>
						</div>	
					</div>
				</div>
			</div>
			<div class="modal fade bs-modal-xl" id="modal-geospatial" tabindex="-1" role="dialog" aria-hidden="true" data-bind="html: modalContent"></div>
		</div>
		
<script type="text/javascript">							
	var stylesheet;	
	if ($('#snap-stylehsheet').length === 0) {
			stylesheet = document.createElement( 'link' );
			stylesheet.id = 'snap-stylehsheet';
			stylesheet.rel = 'stylesheet';
			stylesheet.type = 'text/css';
			stylesheet.href = 'lib/snap/css/snap.css';
			$("head").append( stylesheet );
	}
	if ($('#snap-stylehsheet-demo').length === 0) {
			stylesheet = document.createElement( 'link' );
			stylesheet.id = 'snap-stylehsheet-demo';
			stylesheet.rel = 'stylesheet';
			stylesheet.type = 'text/css';
			stylesheet.href = 'lib/snap/css/demo.css';
			$("head").append( stylesheet );
	}
	
	if ($('#geospatial-stylehsheet').length === 0) {
			stylesheet = document.createElement( 'link' );
			stylesheet.id = 'geospatial-stylehsheet';
			stylesheet.rel = 'stylesheet';
			stylesheet.type = 'text/css';
			stylesheet.href = 'plugins/geospatial/css/geospatial.css';
			$("head").append( stylesheet );
	}
	
	var script;
	if ($('#geospatial-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'geospatial-script';
			script.type = 'text/javascript';
			script.src = 'plugins/geospatial/js/geospatial.js';
			$("body").append( script );
	}
	if ($('#geospatial-cluster-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'geospatial-cluster-script';
			script.type = 'text/javascript';
			script.src = 'plugins/geospatial/js/markerclusterer.js';
			$("body").append( script );
	}
	
	
	if ($('#snap-script').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'snap-script';
			script.type = 'text/javascript';
			script.src = 'lib/snap/js/snap.js';
			$("body").append( script );
	}
	
	if ($('#radiobutton-model').length === 0) {
			script = document.createElement( 'script' );
			script.id = 'radiobutton-model';
			script.type = 'text/javascript';
			script.src = 'models/radiobutton.js';
			$("body").append( script );
	}
	
	
	
	var geoOptions = {
						plugincontainter: '#geospatial-map',
						geocontainter	: '#geospatial-container',
						snapcontainer	: '#snap-geospatial'
						}	
	new geoSpatial(geoOptions);
	
	
</script>

